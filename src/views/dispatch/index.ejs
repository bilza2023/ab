<!DOCTYPE html>
<html>
<head>
  <title>Dispatch</title>

  <link rel="stylesheet" href="/css/base.css" />
  <link rel="stylesheet" href="/css/nav.css" />
  <link rel="stylesheet" href="/css/form.css" />
</head>

<body>

  <%- include('../partials/nav') %>

  <div class="page">
    <div class="form-card">

      <h1 class="form-title">Dispatch</h1>

      <div class="form-context">
        <strong><%= fromMmaCode %></strong>
        →
        <strong><%= toMmaCode %></strong>
      </div>

      <form method="POST" class="form">

        <input type="hidden" name="fromMmaCode" value="<%= fromMmaCode %>" />
        <input type="hidden" name="toMmaCode" value="<%= toMmaCode %>" />

        <!-- Transport Number -->
        <div class="form-group">
          <label class="form-label">Transport Number (Optional)</label>
          <input
            name="transportNumber"
            type="text"
            class="form-input"
            placeholder="e.g. ABC-1234"
          />
        </div>

        <!-- Supplier -->
        <div class="form-group">
          <label class="form-label">Supplier</label>
          <select name="supplierId" class="form-select" required>
            <option value="">Select Supplier</option>
            <% suppliers.forEach(s => { %>
              <option value="<%= s.id %>">
                <%= s.code %> - <%= s.name %>
              </option>
            <% }) %>
          </select>
        </div>

        <!-- Shade -->
        <div class="form-group">
          <label class="form-label">Shade</label>
          <select name="shade" class="form-select" required>
            <% shades.forEach(shade => { %>
              <option value="<%= shade %>"><%= shade %></option>
            <% }) %>
          </select>
        </div>

        <!-- Size -->
        <div class="form-group">
          <label class="form-label">Size</label>
          <select name="size" class="form-select" required>
            <% sizes.forEach(size => { %>
              <option value="<%= size %>"><%= size %></option>
            <% }) %>
          </select>
        </div>

        <!-- Quantity -->
        <div class="form-group">
          <label class="form-label">Quantity</label>
          <input
            name="qty"
            type="number"
            step="0.01"
            class="form-input"
            required
          />
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            Confirm Dispatch
          </button>
        </div>

      </form>

      <div class="form-footer">
        <a href="/" class="form-back">← Back to Control Panel</a>
      </div>

    </div>
  </div>

</body>
</html>